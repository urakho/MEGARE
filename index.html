<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Retro Tanks - Procedural Walls</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="ui">
    <b>WASD</b> ‚Äî –•–æ–¥ —Ç–∞–Ω–∫–∞<br>
    <b>WHEEL</b> ‚Äî –í—Ä–∞—â–µ–Ω–∏–µ –±–∞—à–Ω–∏<br>
    <b>SPACE</b> ‚Äî –í—ã—Å—Ç—Ä–µ–ª<br>
    <b>F5</b> ‚Äî –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–∏—Ä<br>
    <b>Coins: <span id="coinDisplay">0</span></b><br>
    <hr>
    <small>–°—Ç–µ–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–µ–≥–º–µ–Ω—Ç–∞–º–∏,<br>–ø—Ä–æ–µ–∑–¥ –≤—Å–µ–≥–¥–∞ —Å–≤–æ–±–æ–¥–µ–Ω.</small>
</div>
<canvas id="gameCanvas"></canvas>

<!-- Main menu overlay -->
<div id="mainMenu" style="position: absolute; inset: 0; display:flex; align-items:center; justify-content:center; z-index:10;">
    <div style="background: rgba(0,0,0,0.88); padding: 28px; border: 2px solid #666; text-align:center; color:#fff; width:440px; border-radius:8px;">
        <h1 style="margin:6px 0 14px 0; font-size:28px;">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</h1>
        <div id="previewWrap" style="display:flex;flex-direction:column;align-items:center;">
            <canvas id="previewCanvas" width="200" height="150" style="background:#2b5a2b; border:2px solid #444; border-radius:4px;"></canvas>
            <div id="previewLabel" style="margin-top:10px; font-size:16px; font-weight:600;">–í–∞—à —Ç–∞–Ω–∫</div>
        </div>
        <button id="startBtn" style="margin-top:16px; padding:12px 22px; font-size:18px; cursor:pointer; border-radius:6px;">START</button>
        <button id="shopBtn" style="margin-top:8px; padding:12px 22px; font-size:18px; cursor:pointer; border-radius:6px;">–ú–∞–≥–∞–∑–∏–Ω</button>
        <button id="characterBtn" style="margin-top:8px; padding:12px 22px; font-size:18px; cursor:pointer; border-radius:6px;">–ü–µ—Ä—Å–æ–Ω–∞–∂–∏</button>
    </div>
</div>

<!-- Mode selection modal (hidden by default) -->
<div id="modeModal" style="position: absolute; inset: 0; display:none; align-items:center; justify-content:center; z-index:11;">
    <div style="background: rgba(0,0,0,0.95); padding: 22px; border: 2px solid #666; text-align:center; color:#fff; width:520px; border-radius:8px;">
        <h2 style="margin:6px 0 12px 0; font-size:22px;">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º</h2>
        <div style="display:flex; flex-direction:column; gap:12px; align-items:center;">
            <button id="modeSingle" style="padding:10px 18px; width:80%; font-size:16px;">–û–¥–∏–Ω–æ—á–Ω—ã–π —Ä–µ–∂–∏–º</button>
            <button id="modeTeam" style="padding:10px 18px; width:80%; font-size:16px;">–ö–æ–º–∞–Ω–¥–Ω—ã–π —Ä–µ–∂–∏–º (4 –∫–æ–º–∞–Ω–¥—ã –ø–æ 2)</button>
            <button id="modeCancel" style="padding:10px 18px; width:80%; font-size:16px;">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>
</div>

<!-- Shop modal (hidden by default) -->
<div id="shopModal" style="position: absolute; inset: 0; display:none; align-items:center; justify-content:center; z-index:12;">
    <div style="background: linear-gradient(135deg, #2c3e50, #34495e); padding: 30px; border: 4px solid #f39c12; text-align:center; color:#fff; width:600px; border-radius:15px; box-shadow: 0 0 20px rgba(0,0,0,0.8);">
        <h2 style="margin:0 0 20px 0; font-size:28px; color:#f39c12;">üõí –ú–∞–≥–∞–∑–∏–Ω</h2>
        <div style="display:flex; flex-direction:column; gap:15px; align-items:center;">
            <div style="background: rgba(255,255,255,0.1); padding:15px; border-radius:10px; width:80%;">
                <img src="png/cont1.png" alt="–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä" style="width:80px; height:80px; margin-bottom:10px;">
                <p style="margin:5px 0; font-size:16px;">–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Å–ª—É—á–∞–π–Ω—ã–º —Ü–≤–µ—Ç–æ–º —Ç–∞–Ω–∫–∞</p>
                <button id="buyContainer" style="padding:10px 20px; font-size:16px; background:#e74c3c; color:white; border:none; border-radius:8px; cursor:pointer;">–ö—É–ø–∏—Ç—å (100 –º–æ–Ω–µ—Ç)</button>
            </div>
            <div style="background: rgba(255,255,255,0.1); padding:15px; border-radius:10px; width:80%;">
                <img src="png/super-cont.png" alt="–°—É–ø–µ—Ä –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä" style="width:80px; height:80px; margin-bottom:10px;">
                <p style="margin:5px 0; font-size:16px;">–°—É–ø–µ—Ä –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ä–µ–¥–∫–∏–º–∏ –±–æ–Ω—É—Å–∞–º–∏</p>
                <button id="buySuperContainer" style="padding:10px 20px; font-size:16px; background:#9b59b6; color:white; border:none; border-radius:8px; cursor:pointer;">–ö—É–ø–∏—Ç—å (200 –º–æ–Ω–µ—Ç)</button>
            </div>
            <button id="shopCancel" style="padding:12px 25px; font-size:16px; background:#95a5a6; color:white; border:none; border-radius:8px; cursor:pointer; margin-top:10px;">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
</div>

<!-- Character modal (hidden by default) -->
<div id="characterModal" style="position: absolute; inset: 0; display:none; align-items:center; justify-content:center; z-index:13;">
    <div style="background: linear-gradient(135deg, #34495e, #2c3e50); padding: 30px; border: 4px solid #f39c12; text-align:center; color:#fff; width:600px; border-radius:15px; box-shadow: 0 0 20px rgba(0,0,0,0.8);">
        <h2 style="margin:0 0 20px 0; font-size:28px; color:#f39c12;">üë§ –ü–µ—Ä—Å–æ–Ω–∞–∂–∏</h2>
        <div style="display:flex; flex-direction:row; flex-wrap:wrap; gap:20px; align-items:center; justify-content:center;">
            <div style="text-align:center; width:180px;">
                <canvas id="normalTankPreview" width="150" height="150" style="border:2px solid #e74c3c; border-radius:8px;"></canvas>
                <button id="selectNormalTank" style="padding:10px 20px; font-size:16px; background:#e74c3c; color:white; border:none; border-radius:8px; cursor:pointer; margin-top:10px;">–û–±—ã—á–Ω—ã–π —Ç–∞–Ω–∫</button>
            </div>
            <div style="text-align:center; width:180px;">
                <canvas id="iceTankPreview" width="150" height="150" style="border:2px solid #3498db; border-radius:8px;"></canvas>
                <button id="selectIceTank" style="padding:10px 20px; font-size:16px; background:#3498db; color:white; border:none; border-radius:8px; cursor:pointer; margin-top:10px;">–õ–µ–¥—è–Ω–æ–π —Ç–∞–Ω–∫</button>
            </div>
            <div style="text-align:center; width:180px;">
                <canvas id="fireTankPreview" width="150" height="150" style="border:2px solid #e67e22; border-radius:8px;"></canvas>
                <button id="selectFireTank" style="padding:10px 20px; font-size:16px; background:#e67e22; color:white; border:none; border-radius:8px; cursor:pointer; margin-top:10px;">–û–≥–Ω–µ–º—ë—Ç—á–∏–∫</button>
            </div>
            <div style="text-align:center; width:180px;">
                <canvas id="buratinoTankPreview" width="150" height="150" style="border:2px solid #9b59b6; border-radius:8px;"></canvas>
                <button id="selectBuratinoTank" style="padding:10px 20px; font-size:16px; background:#9b59b6; color:white; border:none; border-radius:8px; cursor:pointer; margin-top:10px;">–ë—É—Ä–∞—Ç–∏–Ω–æ</button>
            </div>
                <div style="text-align:center; width:180px;">
                    <canvas id="toxicTankPreview" width="150" height="150" style="border:2px solid #00ff9da0; border-radius:8px;"></canvas>
                    <button id="selectToxicTank" style="padding:10px 20px; font-size:16px; background:#00ff9da0; color:white; border:none; border-radius:8px; cursor:pointer; margin-top:10px;">–û—Ç—Ä–∞–≤–ª—è—é—â–∏–π</button>
                </div>
                <div style="text-align:center; width:180px;">
                    <canvas id="plasmaTankPreview" width="150" height="150" style="border:2px solid #8e44ad; border-radius:8px;"></canvas>
                    <button id="selectPlasmaTank" style="padding:10px 20px; font-size:16px; background:#8e44ad; color:white; border:none; border-radius:8px; cursor:pointer; margin-top:10px;">–ü–ª–∞–∑–º–µ–Ω–Ω—ã–π</button>
                </div>
        </div>
        <button id="characterCancel" style="padding:12px 25px; font-size:16px; background:#95a5a6; color:white; border:none; border-radius:8px; cursor:pointer; margin-top:20px;">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
</div>

<!-- Version Modal -->
<div id="versionModal" style="position: absolute; inset: 0; display:none; align-items:center; justify-content:center; z-index:14; background: rgba(0,0,0,0.7);">
    <div style="background: #2c3e50; border: 4px solid #3498db; border-radius: 12px; padding: 30px; text-align: center; color: white; font-family: 'Courier New', monospace;">
        <h2 style="margin: 0 0 20px 0; color: #3498db;">MEGARE</h2>
        <p style="margin: 10px 0; font-size: 18px;">–í–µ—Ä—Å–∏—è: <span id="versionText" style="color: #2ecc71; font-weight: bold;">0.5.0</span></p>
        <p style="margin: 10px 0; font-size: 14px; color: #bdc3c7;">Retro Tanks with Procedural Walls</p>
        <button id="versionClose" style="padding:10px 25px; font-size:14px; background:#3498db; color:white; border:none; border-radius:6px; cursor:pointer; margin-top:20px;">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
</div>

<!-- Tank Detail Modal (hidden by default) -->
<div id="tankDetailModal" style="position: absolute; inset: 0; display:none; align-items:center; justify-content:center; z-index:15; background: rgba(0,0,0,0.8);">
    <div style="background: linear-gradient(135deg, #34495e, #2c3e50); padding: 30px; border: 4px solid #f39c12; text-align:center; color:#fff; width:500px; border-radius:15px; box-shadow: 0 0 20px rgba(0,0,0,0.8);">
        <h2 id="tankDetailTitle" style="margin:0 0 20px 0; font-size:28px; color:#f39c12;">–¢–∞–Ω–∫</h2>
        <p id="tankDetailRarity" style="margin:0 0 10px 0; font-size:20px; color:#f1c40f;">–†–µ–¥–∫–æ—Å—Ç—å</p>
        <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:20px;">
            <canvas id="tankDetailCanvas" width="200" height="200" style="border:2px solid #444; border-radius:8px;"></canvas>
            <div id="tankDetailDescription" style="flex:1; margin-left:20px; text-align:left; font-size:16px; line-height:1.5;">
                –û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–Ω–∫–∞
            </div>
        </div>
        <div style="display:flex; gap:20px; justify-content:center;">
            <button id="tankDetailClose" style="padding:12px 25px; font-size:16px; background:#95a5a6; color:white; border:none; border-radius:8px; cursor:pointer;">–ó–∞–∫—Ä—ã—Ç—å</button>
            <button id="tankDetailSelect" style="padding:12px 25px; font-size:16px; background:#e74c3c; color:white; border:none; border-radius:8px; cursor:pointer;">–í—ã–±—Ä–∞—Ç—å</button>
        </div>
    </div>
</div>

<script src="main.js"></script>
<script src="tanks.js"></script>
</body>
</html>